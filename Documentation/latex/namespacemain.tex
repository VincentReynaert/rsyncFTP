\hypertarget{namespacemain}{}\section{main Namespace Reference}
\label{namespacemain}\index{main@{main}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacemain_a0e290154722b65ed489c05ccb63123a4}{init} (args)
\item 
def \hyperlink{namespacemain_af2b805eecb08e493981427109e24bfb4}{initialisation\+Dossier\+F\+TP} (args, logger, connect\+F\+TP)
\item 
def \hyperlink{namespacemain_a00446ed819ceb3ba2a2efc386436b91c}{donne\+Chemin\+Relatif} (args, chemin\+\_\+element)
\item 
def \hyperlink{namespacemain_a7521c189c12c457f31fb27b6f1b8054c}{is\+File\+To\+Be\+Included} (includes, excludes, nom\+\_\+fichier)
\item 
def \hyperlink{namespacemain_a97bbb0b263cc3d0576c9d51867c02af6}{update\+F\+T\+P\+\_\+M} (args, logger, connect\+F\+TP, includes, excludes, M)
\item 
def \hyperlink{namespacemain_adc47cfe67a92cb5fbd422ddb0a0c15a2}{update\+F\+T\+P\+\_\+A} (args, logger, connect\+F\+TP, includes, excludes, A)
\item 
def \hyperlink{namespacemain_a4964e4c5c1465407b8c22345fcc80819}{update\+F\+T\+P\+\_\+D} (args, logger, connect\+F\+TP, includes, excludes, D)
\item 
def \hyperlink{namespacemain_aa918b0ca63b511b11c02252a8622bc10}{update\+F\+TP} (args, logger, connect\+F\+TP, includes, excludes, M, A, D)
\item 
def \hyperlink{namespacemain_acb8acded5eecc7be91fabc0f0b0f9090}{loop} (args, logger, arbre\+Precedent, starting\+Level, connect\+F\+TP, includes, excludes)
\item 
def \hyperlink{namespacemain_abc81a2bc9032239e47ace22a92fe0cc6}{mon\+Main} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}############
# rsyncFTP #
############
# main     #
############

@author: Julien Vermeil and Vincent Reynaert and Nicolas Sobczak
\end{DoxyVerb}
 

\subsection{Function Documentation}
\index{main@{main}!donne\+Chemin\+Relatif@{donne\+Chemin\+Relatif}}
\index{donne\+Chemin\+Relatif@{donne\+Chemin\+Relatif}!main@{main}}
\subsubsection[{\texorpdfstring{donne\+Chemin\+Relatif(args, chemin\+\_\+element)}{donneCheminRelatif(args, chemin_element)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+donne\+Chemin\+Relatif (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{chemin\+\_\+element}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_a00446ed819ceb3ba2a2efc386436b91c}{}\label{namespacemain_a00446ed819ceb3ba2a2efc386436b91c}
\begin{DoxyVerb}Fonction qui retourne le chemin relatif a partir des chemins absolus du dossier surveille et de l'element dont on veut le chemin relatif
:param args: parametres entres en lignes de commandes
:param chemin_element: chemin absolu vers l'element (fichier ou dossier) dont on veut le chemin relatif
:type args: dict
:type chemin_element: str
:return: chemin_relatif
:rtype: str
\end{DoxyVerb}
 \index{main@{main}!init@{init}}
\index{init@{init}!main@{main}}
\subsubsection[{\texorpdfstring{init(args)}{init(args)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+init (
\begin{DoxyParamCaption}
\item[{}]{args}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_a0e290154722b65ed489c05ccb63123a4}{}\label{namespacemain_a0e290154722b65ed489c05ccb63123a4}
\begin{DoxyVerb}Initialise les variables, constantes utiles, et se connecte au serveur ftp
:param args: parametres entres en lignes de commandes
:type args: dict
:return: connectFTP, includes, excludes, arbrePrecedent, startinglevel
:rtype: tuple
\end{DoxyVerb}
 \index{main@{main}!initialisation\+Dossier\+F\+TP@{initialisation\+Dossier\+F\+TP}}
\index{initialisation\+Dossier\+F\+TP@{initialisation\+Dossier\+F\+TP}!main@{main}}
\subsubsection[{\texorpdfstring{initialisation\+Dossier\+F\+T\+P(args, logger, connect\+F\+T\+P)}{initialisationDossierFTP(args, logger, connectFTP)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+initialisation\+Dossier\+F\+TP (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{logger, }
\item[{}]{connect\+F\+TP}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_af2b805eecb08e493981427109e24bfb4}{}\label{namespacemain_af2b805eecb08e493981427109e24bfb4}
\begin{DoxyVerb}Fonction qui initialise le dossier sur le serveur FTP : supprime puis copie le dossier local
:param args: parametres entres en lignes de commandes
:param logger: fichier de log
:param connectFTP: objet ftp
:type args: dict
:type logger: log
:type connectFTP: class 'ftplib.FTP'
\end{DoxyVerb}
 \index{main@{main}!is\+File\+To\+Be\+Included@{is\+File\+To\+Be\+Included}}
\index{is\+File\+To\+Be\+Included@{is\+File\+To\+Be\+Included}!main@{main}}
\subsubsection[{\texorpdfstring{is\+File\+To\+Be\+Included(includes, excludes, nom\+\_\+fichier)}{isFileToBeIncluded(includes, excludes, nom_fichier)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+is\+File\+To\+Be\+Included (
\begin{DoxyParamCaption}
\item[{}]{includes, }
\item[{}]{excludes, }
\item[{}]{nom\+\_\+fichier}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_a7521c189c12c457f31fb27b6f1b8054c}{}\label{namespacemain_a7521c189c12c457f31fb27b6f1b8054c}
\begin{DoxyVerb}Fonction qui retourne vrai si le fichier a une extension que l'on souhaite copier
:param includes: liste des fichiers a inclure
:param excludes: liste des fichiers a exclure
:param nom_fichier: nom du fichier avec son extension
:type nom_fichier: str
:return: result
:rtype: bool
\end{DoxyVerb}
 \index{main@{main}!loop@{loop}}
\index{loop@{loop}!main@{main}}
\subsubsection[{\texorpdfstring{loop(args, logger, arbre\+Precedent, starting\+Level, connect\+F\+T\+P, includes, excludes)}{loop(args, logger, arbrePrecedent, startingLevel, connectFTP, includes, excludes)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+loop (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{logger, }
\item[{}]{arbre\+Precedent, }
\item[{}]{starting\+Level, }
\item[{}]{connect\+F\+TP, }
\item[{}]{includes, }
\item[{}]{excludes}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_acb8acded5eecc7be91fabc0f0b0f9090}{}\label{namespacemain_acb8acded5eecc7be91fabc0f0b0f9090}
\begin{DoxyVerb}Fonction de boucle principale. Elle fonctionne en 2 actions:
- Surveiller
- Si modif, mettre a jour le serveur FTP
:param args: parametres entres en lignes de commandes
:param logger: fichier de log
:param arbrePrecedent:
:param startingLevel: niveau de profondeur de depart
:param connectFTP: objet ftp
:param includes: liste des fichiers a inclure
:param excludes: liste des fichiers a exclure
:type args: dict
:type logger: log
:type arbrePrecedent:
:type startingLevel: int
:type connectFTP: class 'ftplib.FTP'
:type includes: list
:type excludes: list
:return: 1
:rtype: int
\end{DoxyVerb}
 \index{main@{main}!mon\+Main@{mon\+Main}}
\index{mon\+Main@{mon\+Main}!main@{main}}
\subsubsection[{\texorpdfstring{mon\+Main()}{monMain()}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+mon\+Main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_abc81a2bc9032239e47ace22a92fe0cc6}{}\label{namespacemain_abc81a2bc9032239e47ace22a92fe0cc6}
\begin{DoxyVerb}Tests Unitaires
print(isFileToBeIncluded(['*'], ['.odt', ".docx"], "/home/nicolas/Documents/fichier.docx"))
print(isFileToBeIncluded(['*'], ['.odt', ".docx"], "/home/nicolas/Documents/fichier.txt"))
print(isFileToBeIncluded(['.odt', ".docx"], ['*'], "/home/nicolas/Documents/fichier.docx"))
print(isFileToBeIncluded(['.odt', ".docx"], ['*'], "/home/nicolas/Documents/fichier.txt"))
\end{DoxyVerb}
 \index{main@{main}!update\+F\+TP@{update\+F\+TP}}
\index{update\+F\+TP@{update\+F\+TP}!main@{main}}
\subsubsection[{\texorpdfstring{update\+F\+T\+P(args, logger, connect\+F\+T\+P, includes, excludes, M, A, D)}{updateFTP(args, logger, connectFTP, includes, excludes, M, A, D)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+update\+F\+TP (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{logger, }
\item[{}]{connect\+F\+TP, }
\item[{}]{includes, }
\item[{}]{excludes, }
\item[{}]{M, }
\item[{}]{A, }
\item[{}]{D}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_aa918b0ca63b511b11c02252a8622bc10}{}\label{namespacemain_aa918b0ca63b511b11c02252a8622bc10}
\begin{DoxyVerb}Fonction qui gere la mise a jour du dossier distant
:param args: parametres entres en lignes de commandes
:param logger: fichier de log
:param connectFTP: objet ftp
:param includes: liste des fichiers a inclure
:param excludes: liste des fichiers a exclure
:param M:
:param A:
:param D:
:type args: dict
:type logger: log
:type connectFTP: class 'ftplib.FTP'
:type includes: list
:type excludes: list
:type M: list
:type A: list
:type D: list
:param connectFTP: objet ftp
:type connectFTP: class 'ftplib.FTP'
\end{DoxyVerb}
 \index{main@{main}!update\+F\+T\+P\+\_\+A@{update\+F\+T\+P\+\_\+A}}
\index{update\+F\+T\+P\+\_\+A@{update\+F\+T\+P\+\_\+A}!main@{main}}
\subsubsection[{\texorpdfstring{update\+F\+T\+P\+\_\+\+A(args, logger, connect\+F\+T\+P, includes, excludes, A)}{updateFTP_A(args, logger, connectFTP, includes, excludes, A)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+update\+F\+T\+P\+\_\+A (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{logger, }
\item[{}]{connect\+F\+TP, }
\item[{}]{includes, }
\item[{}]{excludes, }
\item[{}]{A}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_adc47cfe67a92cb5fbd422ddb0a0c15a2}{}\label{namespacemain_adc47cfe67a92cb5fbd422ddb0a0c15a2}
\begin{DoxyVerb}Fonction qui s'occupe de mettre a jour le dossier situe sur le serveur FTP en cas d'ajout
:param args: parametres entres en lignes de commandes
:param logger: fichier de log
:param connectFTP: objet ftp
:param includes: liste des fichiers a inclure
:param excludes: liste des fichiers a exclure
:param A: liste des elements ajoutes
:type args: dict
:type logger: log
:type connectFTP: class 'ftplib.FTP'
:type includes: list
:type excludes: list
:type A: list
\end{DoxyVerb}
 \index{main@{main}!update\+F\+T\+P\+\_\+D@{update\+F\+T\+P\+\_\+D}}
\index{update\+F\+T\+P\+\_\+D@{update\+F\+T\+P\+\_\+D}!main@{main}}
\subsubsection[{\texorpdfstring{update\+F\+T\+P\+\_\+\+D(args, logger, connect\+F\+T\+P, includes, excludes, D)}{updateFTP_D(args, logger, connectFTP, includes, excludes, D)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+update\+F\+T\+P\+\_\+D (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{logger, }
\item[{}]{connect\+F\+TP, }
\item[{}]{includes, }
\item[{}]{excludes, }
\item[{}]{D}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_a4964e4c5c1465407b8c22345fcc80819}{}\label{namespacemain_a4964e4c5c1465407b8c22345fcc80819}
\begin{DoxyVerb}Fonction qui s'occupe de mettre a jour le dossier situe sur le serveur FTP en cas d'ajout
:param args: parametres entres en lignes de commandes
:param logger: fichier de log
:param connectFTP: objet ftp
:param includes: liste des fichiers a inclure
:param excludes: liste des fichiers a exclure
:param D: liste des elements supprimes
:type args: dict
:type logger: log
:type connectFTP: class 'ftplib.FTP'
:type includes: list
:type excludes: list
:type D: list
\end{DoxyVerb}
 \index{main@{main}!update\+F\+T\+P\+\_\+M@{update\+F\+T\+P\+\_\+M}}
\index{update\+F\+T\+P\+\_\+M@{update\+F\+T\+P\+\_\+M}!main@{main}}
\subsubsection[{\texorpdfstring{update\+F\+T\+P\+\_\+\+M(args, logger, connect\+F\+T\+P, includes, excludes, M)}{updateFTP_M(args, logger, connectFTP, includes, excludes, M)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+update\+F\+T\+P\+\_\+M (
\begin{DoxyParamCaption}
\item[{}]{args, }
\item[{}]{logger, }
\item[{}]{connect\+F\+TP, }
\item[{}]{includes, }
\item[{}]{excludes, }
\item[{}]{M}
\end{DoxyParamCaption}
)}\hypertarget{namespacemain_a97bbb0b263cc3d0576c9d51867c02af6}{}\label{namespacemain_a97bbb0b263cc3d0576c9d51867c02af6}
\begin{DoxyVerb}Fonction qui s'occupe de mettre a jour le dossier situe sur le serveur FTP en cas d'ajout
:param args: parametres entres en lignes de commandes
:param logger: fichier de log
:param connectFTP: objet ftp
:param includes: liste des fichiers a inclure
:param excludes: liste des fichiers a exclure
:param M: liste des elements modifies
:type args: dict
:type logger: log
:type connectFTP: class 'ftplib.FTP'
:type includes: list
:type excludes: list
:type M: list
\end{DoxyVerb}
 